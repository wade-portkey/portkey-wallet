var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.useRefreshTokenConfig=useRefreshTokenConfig;var _react=require("react");var _network=require("./network");var _wallet=require("./wallet");var _aes=_interopRequireDefault(require("../../utils/aes"));var _aelfSdk=_interopRequireDefault(require("aelf-sdk"));var _utils=require("../../api/api-did/utils");function useRefreshTokenConfig(pin){var _useCurrentWalletInfo=(0,_wallet.useCurrentWalletInfo)(),caHash=_useCurrentWalletInfo.caHash,AESEncryptPrivateKey=_useCurrentWalletInfo.AESEncryptPrivateKey;var _useCurrentNetworkInf=(0,_network.useCurrentNetworkInfo)(),connectUrl=_useCurrentNetworkInf.connectUrl;var originChainId=(0,_wallet.useOriginChainId)();(0,_react.useMemo)(function(){if(!caHash||!AESEncryptPrivateKey||!pin)return;var privateKey=_aes.default.decrypt(AESEncryptPrivateKey,pin);if(!privateKey)return;var account=_aelfSdk.default.wallet.getWalletByPrivateKey(privateKey);(0,_utils.setRefreshTokenConfig)({account:account,caHash:caHash,connectUrl:connectUrl,chainId:originChainId});},[AESEncryptPrivateKey,pin,caHash,connectUrl,originChainId]);}