var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.tradeSlice=exports.initialState=exports.default=exports.clearRecentContract=exports.addRecentContact=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _toolkit=require("@reduxjs/toolkit");var initialState=exports.initialState={recentContact:{},tradeList:[],totalTradeNumber:0};var tradeSlice=exports.tradeSlice=(0,_toolkit.createSlice)({name:'trade',initialState:initialState,reducers:{addRecentContact:function addRecentContact(state,action){var _contact$name;var _action$payload=action.payload,rpcUrl=_action$payload.rpcUrl,contact=_action$payload.contact;var contractItem=Object.assign({},contact,{name:(_contact$name=contact.name)!=null?_contact$name:'',timestamp:Date.now()});if(!state.recentContact||!state.recentContact[rpcUrl]){var _state$recentContact;state.recentContact=Object.assign({},(_state$recentContact=state.recentContact)!=null?_state$recentContact:{},(0,_defineProperty2.default)({},rpcUrl,[contractItem]));}else{var list=state.recentContact[rpcUrl].filter(function(item){return item.address!==contractItem.address||item.address===contractItem.address&&item.name!==contractItem.name;});list.unshift(contractItem);if(list.length>100)list.length=100;state.recentContact[rpcUrl]=list;}},clearRecentContract:function clearRecentContract(state){state.recentContact={};}}});var _tradeSlice$actions=tradeSlice.actions,addRecentContact=exports.addRecentContact=_tradeSlice$actions.addRecentContact,clearRecentContract=exports.clearRecentContract=_tradeSlice$actions.clearRecentContract;var _default=exports.default=tradeSlice;