var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.updateAccountName=exports.setCurrentAccount=exports.setBackup=exports.resetWallet=exports.removeAccount=exports.importAccount=exports.createWalletAction=exports.createWallet=exports.changePassword=exports.addAndReplaceAccount=exports.addAccount=void 0;var _aelfSdk=_interopRequireDefault(require("aelf-sdk"));var _wallet=require("../../utils/wallet");var _toolkit=require("@reduxjs/toolkit");var createWallet=exports.createWallet=function createWallet(_ref){var walletInfo=_ref.walletInfo,walletName=_ref.walletName,password=_ref.password;return function(dispatch){var passwordMessage=(0,_wallet.checkPasswordInput)(password);if(passwordMessage)throw new Error(passwordMessage);var walletNameMessage=(0,_wallet.checkWalletNameInput)(walletName);if(walletNameMessage)throw new Error(walletNameMessage);if(!walletInfo)walletInfo=_aelfSdk.default.wallet.createNewWallet();var walletObj=(0,_wallet.formatWalletInfo)(walletInfo,password,walletName);if(walletObj){var newWalletInfo=walletObj.walletInfo,accountInfo=walletObj.accountInfo;newWalletInfo.walletName=walletName;newWalletInfo.isBackup=false;console.log(newWalletInfo,'newWalletInfo===');dispatch(createWalletAction({walletInfo:newWalletInfo,accountInfo:accountInfo}));return true;}throw new Error('createWallet fail');};};var createWalletAction=exports.createWalletAction=(0,_toolkit.createAction)('wallet/createWallet');var setBackup=exports.setBackup=(0,_toolkit.createAction)('wallet/setBackup');var addAccount=exports.addAccount=(0,_toolkit.createAction)('wallet/addAccount');var importAccount=exports.importAccount=(0,_toolkit.createAction)('wallet/importAccount');var setCurrentAccount=exports.setCurrentAccount=(0,_toolkit.createAction)('wallet/setCurrentAccount');var updateAccountName=exports.updateAccountName=(0,_toolkit.createAction)('wallet/updateAccountName');var addAndReplaceAccount=exports.addAndReplaceAccount=(0,_toolkit.createAction)('wallet/addAndReplaceAccount');var removeAccount=exports.removeAccount=(0,_toolkit.createAction)('wallet/removeAccount');var resetWallet=exports.resetWallet=(0,_toolkit.createAction)('wallet/resetWallet');var changePassword=exports.changePassword=(0,_toolkit.createAction)('wallet/changePassword');