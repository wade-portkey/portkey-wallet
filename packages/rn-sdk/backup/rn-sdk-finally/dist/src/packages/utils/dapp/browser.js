var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.checkIsUrl=void 0;exports.default=getFullUrl;exports.getFaviconUrl=getFaviconUrl;exports.getHost=getHost;exports.getOrigin=getOrigin;exports.getProtocolAndHost=getProtocolAndHost;exports.getUrlObj=getUrlObj;exports.isDangerousLink=void 0;exports.isEqDapp=isEqDapp;exports.prefixUrlWithProtocol=void 0;var _isUrl=_interopRequireDefault(require("is-url"));var _urlParse=_interopRequireDefault(require("url-parse"));function getUrlObj(url){return new _urlParse.default(url);}var isDangerousLink=exports.isDangerousLink=function isDangerousLink(url){return /^(?:http:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!&',;=.+]+$/g.test(url);};var prefixUrlWithProtocol=exports.prefixUrlWithProtocol=function prefixUrlWithProtocol(url){var defaultProtocol=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'https://';var hasProtocol=/^[a-z]*:\/\//.test(url);var sanitizedURL=hasProtocol?url:""+defaultProtocol+url;return sanitizedURL;};function getHost(url){var defaultProtocol=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'https://';var isValidUrl=(0,_isUrl.default)(url);if(!isValidUrl)return url;var sanitizedUrl=prefixUrlWithProtocol(url,defaultProtocol);var _getUrlObj=getUrlObj(sanitizedUrl),hostname=_getUrlObj.hostname;var result=hostname===''?url:hostname;return result;}function getProtocolAndHost(url){var _getUrlObj2=getUrlObj(url),protocol=_getUrlObj2.protocol,hostname=_getUrlObj2.hostname;return protocol+"//"+hostname;}function getOrigin(url){var _getUrlObj3=getUrlObj(url),protocol=_getUrlObj3.protocol,hostname=_getUrlObj3.hostname,port=_getUrlObj3.port;if(port){return protocol+"//"+hostname+":"+port;}else{return protocol+"//"+hostname;}}function getFaviconUrl(url){var size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:50;return"https://icon.horse/icon/"+getHost(url)+"/"+size;}function getFullUrl(input){var defaultProtocol=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'https://';return prefixUrlWithProtocol(input,defaultProtocol);}var checkIsUrl=exports.checkIsUrl=function checkIsUrl(value){var regEx=new RegExp(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!&',;=.+]+$/g);if(!(0,_isUrl.default)(value)&&!regEx.test(value))return false;return true;};function isEqDapp(dapp1,dapp2){if(!dapp1||!dapp2)return false;return dapp1.origin===dapp2.origin&&dapp1.name===dapp2.name&&dapp1.icon===dapp2.icon;}