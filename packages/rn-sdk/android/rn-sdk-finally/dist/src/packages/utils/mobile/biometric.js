var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getSecureStoreItem=getSecureStoreItem;exports.setSecureStoreItem=setSecureStoreItem;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _authentication=require("./authentication");var _device=require("./device");var _secureStore=_interopRequireDefault(require("./secureStore"));function setSecureStoreItem(){return _setSecureStoreItem.apply(this,arguments);}function _setSecureStoreItem(){_setSecureStoreItem=(0,_asyncToGenerator2.default)(function*(){var key=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'Password';var value=arguments.length>1?arguments[1]:undefined;var isReady=yield(0,_authentication.authenticationReady)();if(!isReady)throw{message:'biometrics is not ready'};if(_device.isIOS){var enrolled=yield(0,_authentication.touchAuth)();if(!enrolled.success)throw{message:enrolled.warning||enrolled.error};}yield _secureStore.default.setItemAsync(key,value);});return _setSecureStoreItem.apply(this,arguments);}function getSecureStoreItem(){return _getSecureStoreItem.apply(this,arguments);}function _getSecureStoreItem(){_getSecureStoreItem=(0,_asyncToGenerator2.default)(function*(){var key=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'Password';var isReady=yield(0,_authentication.authenticationReady)();if(!isReady)throw{message:'biometrics is not ready'};return _secureStore.default.getItemAsync(key);});return _getSecureStoreItem.apply(this,arguments);}