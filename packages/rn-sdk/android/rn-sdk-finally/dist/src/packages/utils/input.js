var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.formatDec=void 0;exports.parseInputChange=parseInputChange;exports.parseInputIntegerChange=parseInputIntegerChange;exports.parseInputNumberChange=parseInputNumberChange;exports.parseMAXInputChange=parseMAXInputChange;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _bignumber=_interopRequireDefault(require("bignumber.js"));var _reg=require("./reg");var _misc=require("../constants/misc");var formatDec=exports.formatDec=function formatDec(value,pivot,min){var maxLength=arguments.length>3&&arguments[3]!==undefined?arguments[3]:8;if(pivot.gt(0)){if(min.gt(pivot))return min.toFixed();var _value$split=value.split('.'),_value$split2=(0,_slicedToArray2.default)(_value$split,2),dec=_value$split2[1];return((dec==null?void 0:dec.length)||0)>=(maxLength||8)?pivot.toFixed(maxLength||8,1):value;}return value;};function parseMAXInputChange(value,max,min,maxLength){var pivot=new _bignumber.default(value);if(max.lt(pivot)){return max.toFixed()||'';}return formatDec(value,pivot,min,maxLength);}function parseInputChange(value,min,maxLength){if(!(0,_reg.isValidNumber)(value))return'';var pivot=new _bignumber.default(value);return formatDec(value,pivot,min,maxLength);}function parseInputNumberChange(value){var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Infinity;var decimal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:8;if(!(0,_reg.isValidNumber)(value))return'';var pivot=new _bignumber.default(value);var _value$split3=value.split('.'),_value$split4=(0,_slicedToArray2.default)(_value$split3,2),dec=_value$split4[1];if(pivot.isEqualTo(0)){return((dec==null?void 0:dec.length)||0)>=+decimal?pivot.dp(+decimal,1).toFixed():value;}var maxLimit=!new _bignumber.default(max).isNaN()?max:Infinity;if(pivot.gt(0)){return pivot.gt(maxLimit)?maxLimit===Infinity?'':_misc.ZERO.plus(maxLimit).dp(+decimal,1).toFixed():((dec==null?void 0:dec.length)||0)>=+decimal?pivot.dp(+decimal,1).toFixed():value;}else{return'';}}function parseInputIntegerChange(value){var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Infinity;var decimal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:8;if(!(0,_reg.isValidNumber)(value))return'';return value.trim().replace(/^(0+)|[^\d]+/g,'');}