var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.useGetHolderInfo=exports.useGetGuardiansInfo=void 0;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _react=require("react");var _apiDid=require("../../../../packages/api/api-did");var _constants=require("../../../../global/constants");var useGetHolderInfo=exports.useGetHolderInfo=function useGetHolderInfo(){return(0,_react.useCallback)(function(){var _ref=(0,_asyncToGenerator2.default)(function*(loginInfo){if(!loginInfo)throw new Error('Could not find accountInfo');var chainId=yield _constants.PortkeyConfig.currChainId();return _apiDid.request.wallet.guardianIdentifiers({params:Object.assign({chainId:chainId},loginInfo)});});return function(_x){return _ref.apply(this,arguments);};}(),[]);};var useGetGuardiansInfo=exports.useGetGuardiansInfo=function useGetGuardiansInfo(){var getHolderInfo=useGetHolderInfo();return(0,_react.useCallback)(function(){var _ref2=(0,_asyncToGenerator2.default)(function*(loginInfo,chainInfo){try{var _res$error;var res=yield getHolderInfo(loginInfo,chainInfo);if(res&&!res.error)return(res==null?void 0:res.data)||res;throw new Error(checkHolderError((_res$error=res.error)==null?void 0:_res$error.message));}catch(error){var code=handleErrorCode(error);var message=handleErrorMessage(error);throw{message:checkHolderError(message,code),code:code};}});return function(_x2,_x3){return _ref2.apply(this,arguments);};}(),[getHolderInfo]);};