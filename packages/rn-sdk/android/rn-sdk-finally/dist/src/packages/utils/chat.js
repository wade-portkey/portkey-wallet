var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.formatMessageTime=exports.formatMessageCountToStr=exports.formatChatListTime=void 0;var _dayjs=_interopRequireDefault(require("dayjs"));var _time=require("./time");var formatMessageCountToStr=exports.formatMessageCountToStr=function formatMessageCountToStr(num){if(!num||num<0)return undefined;return num>99?'99+':String(num);};var formatChatListTime=exports.formatChatListTime=function formatChatListTime(date){if(!date)return'';var chatTime=(0,_time.dateToDayjs)(date);var now=(0,_dayjs.default)();var today=now.startOf('date');var yesterday=today.subtract(1,'day');var thisYear=now.startOf('year');if(chatTime.isAfter(today)){return chatTime.format('HH:mm');}else if(chatTime.isAfter(yesterday)){return'yesterday';}else if(chatTime.isAfter(thisYear)){return chatTime.format('MM-DD');}else{return chatTime.format('YYYY-MM-DD');}};var formatMessageTime=exports.formatMessageTime=function formatMessageTime(date){if(!date)return'';var messageTime=(0,_time.dateToDayjs)(date);var now=(0,_dayjs.default)();if(messageTime.isSame(now,'year')){return messageTime.format('MM-DD');}else{return messageTime.format('YYYY-MM-DD');}};