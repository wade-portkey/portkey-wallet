var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _CommonText=require("../CommonText");var _OverlayModal=_interopRequireDefault(require("../OverlayModal"));var _Touchable=_interopRequireDefault(require("../Touchable"));var _Svg=_interopRequireDefault(require("../Svg"));var _unit=require("../../utils/unit");var _styles=require("../../assets/theme/styles");var _networkMainnet=require("../../packages/constants/constants-ca/network-mainnet");var _ModalBody=require("../ModalBody");var _ActionSheet=_interopRequireDefault(require("../ActionSheet"));var _jsxFileName="/Users/fengfeiyang/aelf/portkey-wallet/packages/rn-sdk/android/rn-sdk-finally/src/components/NetworkOverlay/index.tsx",_this2=this;function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}function Network(_ref){var network=_ref.network,hideBorder=_ref.hideBorder,isSelect=_ref.isSelect,changeNetwork=_ref.changeNetwork;var press=(0,_react.useCallback)(function(){_OverlayModal.default.hide();if(isSelect)return;_ActionSheet.default.alert({title:"You are about to switch to "+network.name,message:"Your account on the current network can not be used on "+network.name+", so you will need to register a new account or log in to your existing "+network.name+" account there.",buttons:[{title:'Cancel',type:'outline'},{title:'Confirm',onPress:function onPress(){return changeNetwork(network);}}]});},[changeNetwork,isSelect,network]);return _react.default.createElement(_Touchable.default,{disabled:!network.isActive,onPress:press,style:[styles.itemRow,!network.isActive?styles.disableItem:undefined],key:network.name,__self:this,__source:{fileName:_jsxFileName,lineNumber:41,columnNumber:5}},_react.default.createElement(_Svg.default,{size:32,icon:network.networkType==='MAIN'?'mainnet':'testnet',__self:this,__source:{fileName:_jsxFileName,lineNumber:46,columnNumber:7}}),_react.default.createElement(_reactNative.View,{style:[styles.nameRow,_styles.BorderStyles.border4,!hideBorder?styles.borderBottom1:undefined],__self:this,__source:{fileName:_jsxFileName,lineNumber:47,columnNumber:7}},_react.default.createElement(_CommonText.TextL,{numberOfLines:1,style:styles.nameText,__self:this,__source:{fileName:_jsxFileName,lineNumber:48,columnNumber:9}},network.name)),isSelect&&_react.default.createElement(_Svg.default,{iconStyle:styles.selectIconStyle,icon:"selected",size:21,__self:this,__source:{fileName:_jsxFileName,lineNumber:52,columnNumber:20}}));}function SwitchNetwork(_ref2){var _this=this;var currentNetwork=_ref2.currentNetwork,changeCurrentNetwork=_ref2.changeCurrentNetwork;return _react.default.createElement(_ModalBody.ModalBody,{modalBodyType:"bottom",title:'Switch Networks',__self:this,__source:{fileName:_jsxFileName,lineNumber:65,columnNumber:5}},_networkMainnet.NetworkList.map(function(network,index){return _react.default.createElement(Network,{hideBorder:index===_networkMainnet.NetworkList.length-1,network:network,key:network.name,isSelect:(currentNetwork==null?void 0:currentNetwork.name)===network.name,changeNetwork:changeCurrentNetwork,__self:_this,__source:{fileName:_jsxFileName,lineNumber:67,columnNumber:9}});}));}var showSwitchNetwork=function showSwitchNetwork(_ref3){var currentNetwork=_ref3.currentNetwork,changeCurrentNetwork=_ref3.changeCurrentNetwork;_reactNative.Keyboard.dismiss();_OverlayModal.default.show(_react.default.createElement(SwitchNetwork,{currentNetwork:currentNetwork,changeCurrentNetwork:changeCurrentNetwork,__self:_this2,__source:{fileName:_jsxFileName,lineNumber:87,columnNumber:21}}),{position:'bottom'});};var _default=exports.default={showSwitchNetwork:showSwitchNetwork};var styles=_reactNative.StyleSheet.create({title:{alignSelf:'center',marginVertical:16},itemRow:{height:72,paddingLeft:(0,_unit.pTd)(20),alignItems:'center',flexDirection:'row'},disableItem:{opacity:0.3},nameRow:{flex:1,marginLeft:(0,_unit.pTd)(12),flexDirection:'row',height:'100%',alignItems:'center'},borderBottom1:{borderBottomWidth:_reactNative.StyleSheet.hairlineWidth},nameText:{flex:1,marginRight:50},selectIconStyle:{position:'absolute',right:(0,_unit.pTd)(22)}});