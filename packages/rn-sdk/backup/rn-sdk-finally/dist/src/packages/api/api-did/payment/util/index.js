var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getPaymentOrderNo=exports.getOrderQuote=exports.getCryptoList=exports.getCryptoInfo=exports.getAchToken=exports.getAchSignature=void 0;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _=require("../..");var _payment=require("../../../../types/types-ca/payment");var getOrderQuote=exports.getOrderQuote=function(){var _ref=(0,_asyncToGenerator2.default)(function*(params){var rst=yield _.request.payment.getOrderQuote({params:Object.assign({},params,{type:'ONE'})});if(rst.returnCode!=='0000'){throw new Error(rst.returnMsg);}return rst.data;});return function getOrderQuote(_x){return _ref.apply(this,arguments);};}();var getCryptoInfo=exports.getCryptoInfo=function(){var _ref2=(0,_asyncToGenerator2.default)(function*(params,symbol,network,side){var rst=yield _.request.payment.getCryptoList({params:params});if(rst.returnCode!=='0000'){throw new Error(rst.returnMsg);}return rst.data.find(function(item){return item.crypto===symbol&&item.network===network&&(side===_payment.PaymentTypeEnum.BUY?Number(item.buyEnable)===1:Number(item.sellEnable)===1);});});return function getCryptoInfo(_x2,_x3,_x4,_x5){return _ref2.apply(this,arguments);};}();var getCryptoList=exports.getCryptoList=function(){var _ref3=(0,_asyncToGenerator2.default)(function*(params){var rst=yield _.request.payment.getCryptoList({params:params});if(rst.returnCode!=='0000'){throw new Error(rst.returnMsg);}return rst.data;});return function getCryptoList(_x6){return _ref3.apply(this,arguments);};}();var getAchToken=exports.getAchToken=function(){var _ref4=(0,_asyncToGenerator2.default)(function*(params){var rst=yield _.request.payment.getAchToken({params:params});if(rst.returnCode!=='0000'){throw new Error(rst.returnMsg);}return rst.data;});return function getAchToken(_x7){return _ref4.apply(this,arguments);};}();var getPaymentOrderNo=exports.getPaymentOrderNo=function(){var _ref5=(0,_asyncToGenerator2.default)(function*(params){var rst=yield _.request.payment.getOrderNo({params:params});if(rst.success!==true||!(rst!=null&&rst.id)){throw new Error(rst.returnMsg);}return rst.id;});return function getPaymentOrderNo(_x8){return _ref5.apply(this,arguments);};}();var getAchSignature=exports.getAchSignature=function(){var _ref6=(0,_asyncToGenerator2.default)(function*(params){var rst=yield _.request.payment.getAchSignature({params:params});console.log('getAchSignature',rst);if(rst.returnCode!=='0000'||!(rst!=null&&rst.signature)){throw new Error(rst.returnMsg);}return rst.signature;});return function getAchSignature(_x9){return _ref6.apply(this,arguments);};}();