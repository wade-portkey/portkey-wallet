var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.useChainListFetch=useChainListFetch;exports.useCurrentChain=useCurrentChain;exports.useCurrentChainList=useCurrentChainList;exports.useDefaultToken=useDefaultToken;exports.useGetChainInfo=useGetChainInfo;exports.useIsValidSuffix=useIsValidSuffix;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _react=require("react");var _=require("./..");var _actions=require("packages/types/store-ca/wallet/actions");var _wallet=require("./wallet");var _wallet2=require("../../constants/constants-ca/wallet");function useChainListFetch(){var _useWallet=(0,_wallet.useWallet)(),currentNetwork=_useWallet.currentNetwork;var dispatch=(0,_.useAppCommonDispatch)();(0,_react.useEffect)(function(){dispatch((0,_actions.getChainListAsync)());},[dispatch,currentNetwork]);}function useCurrentChainList(){var _useCurrentWallet=(0,_wallet.useCurrentWallet)(),currentNetwork=_useCurrentWallet.currentNetwork,chainInfo=_useCurrentWallet.chainInfo;return(0,_react.useMemo)(function(){return chainInfo==null?void 0:chainInfo[currentNetwork];},[chainInfo,currentNetwork]);}function useCurrentChain(_chainId){var originChainId=(0,_wallet.useOriginChainId)();var chainId=(0,_react.useMemo)(function(){return _chainId||originChainId;},[_chainId,originChainId]);var currentChainList=useCurrentChainList();return(0,_react.useMemo)(function(){return currentChainList==null?void 0:currentChainList.find(function(chain){return chain.chainId===chainId;});},[currentChainList,chainId]);}function useDefaultToken(_chainId){var chainInfo=useCurrentChain(_chainId);return(chainInfo==null?void 0:chainInfo.defaultToken)||_wallet2.DEFAULT_TOKEN;}function useIsValidSuffix(){var currentChainList=useCurrentChainList();var chainIdArr=(0,_react.useMemo)(function(){return(currentChainList==null?void 0:currentChainList.map(function(chain){return chain.chainId;}))||[];},[currentChainList]);return(0,_react.useCallback)(function(suffix){return chainIdArr.includes(suffix);},[chainIdArr]);}function useGetChainInfo(){var currentChainList=useCurrentChainList();var dispatch=(0,_.useAppCommonDispatch)();return(0,_react.useCallback)(function(){var _ref=(0,_asyncToGenerator2.default)(function*(originChainId){var _chainInfo;if(currentChainList){_chainInfo=currentChainList.find(function(item){return item.chainId===originChainId;});}if(!_chainInfo){var chainList=yield dispatch((0,_actions.getChainListAsync)());if(Array.isArray(chainList.payload)){_chainInfo=chainList.payload[0].find(function(item){return item.chainId===originChainId;});}}return _chainInfo;});return function(_x){return _ref.apply(this,arguments);};}(),[currentChainList,dispatch]);}