var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.NoDataMessage=void 0;exports.default=NFTItem;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _theme=require("../../../../assets/theme");var _unit=require("../../../../utils/unit");var _Collapsible=_interopRequireDefault(require("../../../../components/Collapsible"));var _NFTAvatar=_interopRequireDefault(require("../../../../components/NFTAvatar"));var _GStyles=_interopRequireDefault(require("../../../../assets/theme/GStyles"));var _CommonAvatar=_interopRequireDefault(require("../../../../components/CommonAvatar"));var _Svg=_interopRequireDefault(require("../../../../components/Svg"));var _CommonText=require("../../../../components/CommonText");var _styles=require("../../../../assets/theme/styles");var _Touchable=_interopRequireDefault(require("../../../../components/Touchable"));var _utils=require("../../../../packages/utils");var _network=require("../../../../model/hooks/network");var _jsxFileName="/Users/fengfeiyang/aelf/portkey-wallet/packages/rn-sdk/android/rn-sdk-finally/src/pages/Assets/Home/NFTSection/NFTCollectionItem.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var NoDataMessage=exports.NoDataMessage=function(NoDataMessage){NoDataMessage["CustomNetWorkNoData"]="No transaction records accessible from the current custom network";NoDataMessage["CommonNoData"]="You have no transactions";return NoDataMessage;}({});function NFTItem(props){var _this=this;var chainId=props.chainId,collectionName=props.collectionName,imageUrl=props.imageUrl,itemCount=props.itemCount,children=props.children,symbol=props.symbol,collapsed=props.collapsed,openCollectionObj=props.openCollectionObj,openItem=props.openItem,closeItem=props.closeItem,loadMoreItem=props.loadMoreItem;var currentNetwork=(0,_network.useCurrentNetworkType)();var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2.default)(_useState,2),open=_useState2[0],setOpen=_useState2[1];var openCollectionInfo=(0,_react.useMemo)(function(){return openCollectionObj==null?void 0:openCollectionObj[""+symbol+chainId];},[chainId,openCollectionObj,symbol]);(0,_react.useEffect)(function(){setOpen(!!(children!=null&&children.length)&&!collapsed);},[children,collapsed,openCollectionInfo]);var showChildren=children;var hasMore=(0,_react.useMemo)(function(){return(showChildren==null?void 0:showChildren.length)!==0&&(showChildren==null?void 0:showChildren.length)<itemCount;},[itemCount,showChildren==null?void 0:showChildren.length]);return _react.default.createElement(_reactNative.View,{style:styles.wrap,__self:this,__source:{fileName:_jsxFileName,lineNumber:69,columnNumber:5}},_react.default.createElement(_Touchable.default,{onPressWithSecond:500,style:[styles.topSeries],onPress:function onPress(){if(openCollectionObj!=null&&openCollectionObj[""+symbol+chainId]){closeItem(symbol,chainId);}else{openItem(symbol,chainId,itemCount);}},__self:this,__source:{fileName:_jsxFileName,lineNumber:70,columnNumber:7}},_react.default.createElement(_Svg.default,{icon:!open?'right-arrow':'down-arrow',size:(0,_unit.pTd)(16),color:_theme.defaultColors.font3,iconStyle:styles.touchIcon,__self:this,__source:{fileName:_jsxFileName,lineNumber:80,columnNumber:9}}),_react.default.createElement(_CommonAvatar.default,{imageUrl:imageUrl,title:collectionName,shapeType:'square',style:styles.avatarStyle,__self:this,__source:{fileName:_jsxFileName,lineNumber:86,columnNumber:9}}),_react.default.createElement(_reactNative.View,{style:styles.topSeriesCenter,__self:this,__source:{fileName:_jsxFileName,lineNumber:87,columnNumber:9}},_react.default.createElement(_CommonText.TextL,{style:styles.nftSeriesName,ellipsizeMode:"tail",__self:this,__source:{fileName:_jsxFileName,lineNumber:88,columnNumber:11}},collectionName),_react.default.createElement(_CommonText.TextS,{style:styles.nftSeriesChainInfo,__self:this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:11}},(0,_utils.formatChainInfoToShow)(chainId,currentNetwork))),_react.default.createElement(_reactNative.View,{__self:this,__source:{fileName:_jsxFileName,lineNumber:93,columnNumber:9}},_react.default.createElement(_CommonText.TextXL,{style:styles.nftSeriesName,__self:this,__source:{fileName:_jsxFileName,lineNumber:94,columnNumber:11}},itemCount),_react.default.createElement(_CommonText.TextM,{style:styles.nftSeriesChainInfo,__self:this,__source:{fileName:_jsxFileName,lineNumber:95,columnNumber:11}}))),_react.default.createElement(_Collapsible.default,{collapsed:!open,__self:this,__source:{fileName:_jsxFileName,lineNumber:98,columnNumber:7}},_react.default.createElement(_reactNative.View,{style:[styles.listWrap],__self:this,__source:{fileName:_jsxFileName,lineNumber:99,columnNumber:9}},(showChildren||[]).map(function(ele,index){return _react.default.createElement(_NFTAvatar.default,{style:[styles.itemAvatarStyle,index<3?styles.marginTop0:{},index%3===2?styles.marginRight0:{}],key:ele.symbol,data:ele,onPress:function onPress(){},__self:_this,__source:{fileName:_jsxFileName,lineNumber:101,columnNumber:13}});})),hasMore&&_react.default.createElement(_Touchable.default,{style:[styles.loadMore],onPress:function onPress(){return loadMoreItem==null?void 0:loadMoreItem(symbol,chainId,(openCollectionInfo==null?void 0:openCollectionInfo.pageNum)+1);},__self:this,__source:{fileName:_jsxFileName,lineNumber:116,columnNumber:11}},_react.default.createElement(_CommonText.TextM,{style:_styles.FontStyles.font4,__self:this,__source:{fileName:_jsxFileName,lineNumber:119,columnNumber:13}},"More"),_react.default.createElement(_Svg.default,{icon:"down-arrow",size:(0,_unit.pTd)(16),color:_theme.defaultColors.primaryColor,iconStyle:styles.downArrow,__self:this,__source:{fileName:_jsxFileName,lineNumber:120,columnNumber:13}}))),_react.default.createElement(_reactNative.View,{style:styles.divider,__self:this,__source:{fileName:_jsxFileName,lineNumber:124,columnNumber:7}}));}var styles=_reactNative.StyleSheet.create({wrap:{width:'100%',backgroundColor:_theme.defaultColors.bg1},itemWrap:Object.assign({width:'100%',height:(0,_unit.pTd)(100)},_GStyles.default.marginArg(24,20)),topSeries:Object.assign({},_GStyles.default.flexRowWrap,{alignItems:'center'},_GStyles.default.marginArg(24,20,0)),listWrap:Object.assign({},_GStyles.default.flexRowWrap,{paddingLeft:(0,_unit.pTd)(44),paddingRight:(0,_unit.pTd)(20),marginTop:(0,_unit.pTd)(16)}),touchIcon:{marginRight:(0,_unit.pTd)(10)},avatarStyle:{width:(0,_unit.pTd)(36),height:(0,_unit.pTd)(36),lineHeight:(0,_unit.pTd)(36)},topSeriesCenter:{flex:1,paddingLeft:(0,_unit.pTd)(12)},nftSeriesName:{lineHeight:(0,_unit.pTd)(22)},nftSeriesChainInfo:{marginTop:(0,_unit.pTd)(4),lineHeight:(0,_unit.pTd)(16)},itemAvatarStyle:{marginRight:(0,_unit.pTd)(8)-_reactNative.StyleSheet.hairlineWidth,marginTop:(0,_unit.pTd)(8)},noMarginRight:{marginRight:0},loadMore:{display:'flex',flexDirection:'row',justifyContent:'center',alignItems:'center',width:'100%',paddingLeft:(0,_unit.pTd)(44),paddingRight:(0,_unit.pTd)(21),textAlign:'center',marginTop:(0,_unit.pTd)(16)},downArrow:{marginLeft:(0,_unit.pTd)(4)},divider:{width:'100%',marginTop:(0,_unit.pTd)(24),marginLeft:(0,_unit.pTd)(44),height:_reactNative.StyleSheet.hairlineWidth,backgroundColor:_theme.defaultColors.bg7},marginBottom0:{marginBottom:0},marginTop0:{marginTop:0},marginRight0:{marginRight:0}});