var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.SignalrSell=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _socket=require("../../constants/constants-ca/socket");var _socket2=require("@portkey/socket");function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var SignalrSell=exports.SignalrSell=function(_BaseSignalr){(0,_inherits2.default)(SignalrSell,_BaseSignalr);var _super=_createSuper(SignalrSell);function SignalrSell(){(0,_classCallCheck2.default)(this,SignalrSell);return _super.apply(this,arguments);}(0,_createClass2.default)(SignalrSell,[{key:"requestAchTxAddress",value:function requestAchTxAddress(clientId,orderId){console.log('invoke RequestAchTxAddress',clientId,orderId);this.invoke('RequestAchTxAddress',{TargetClientId:clientId,OrderId:orderId});}},{key:"onAchTxAddressReceived",value:function onAchTxAddressReceived(_ref,callback){var orderId=_ref.orderId;return this.listen('onAchTxAddressReceived',function(data){var _data$body;if((data==null?void 0:(_data$body=data.body)==null?void 0:_data$body.orderId)===orderId){callback(data.body);}else{callback(null);}});}},{key:"requestOrderTransferred",value:function requestOrderTransferred(clientId,orderId){console.log('invoke RequestOrderTransferred',clientId,orderId);this.invoke('RequestOrderTransferred',{TargetClientId:clientId,OrderId:orderId});}},{key:"onRequestOrderTransferred",value:function onRequestOrderTransferred(_ref2,callback){var orderId=_ref2.orderId;return this.listen('onOrderTransferredReceived',function(data){var _data$body2;if((data==null?void 0:(_data$body2=data.body)==null?void 0:_data$body2.orderId)===orderId){callback(data.body);}else{callback(null);}});}}]);return SignalrSell;}(_socket2.BaseSignalr);var signalrSell=new SignalrSell({listenList:_socket.sellListenList});var _default=exports.default=signalrSell;