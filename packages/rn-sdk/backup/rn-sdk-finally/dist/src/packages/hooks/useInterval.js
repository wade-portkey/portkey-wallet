var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var _react=require("react");var _reactUse=require("react-use");var _index=require("./index");var useInterval=function useInterval(callback,delay,deps){var intervalRef=(0,_react.useRef)();var savedCallback=(0,_index.useLatestRef)(callback);var startInterval=(0,_react.useCallback)(function(){if(!delay)return;intervalRef.current&&clearInterval(intervalRef.current);savedCallback.current==null?void 0:savedCallback.current();intervalRef.current=setInterval(function(){return savedCallback.current==null?void 0:savedCallback.current();},delay||0);},[delay].concat((0,_toConsumableArray2.default)(deps||[])));(0,_reactUse.useDeepCompareEffect)(function(){if(delay!==null)startInterval();return function(){intervalRef.current&&clearInterval(intervalRef.current);};},[delay,deps,startInterval]);return(0,_react.useMemo)(function(){return{start:startInterval,remove:function remove(){intervalRef.current&&clearInterval(intervalRef.current);}};},[startInterval]);};var _default=exports.default=useInterval;