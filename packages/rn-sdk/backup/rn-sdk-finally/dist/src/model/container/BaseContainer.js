var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _react=_interopRequireDefault(require("react"));var _nativeModules=require("../../service/native-modules");var _entries=require("../../global/init/entries");function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var BaseContainer=exports.default=function(_React$Component){(0,_inherits2.default)(BaseContainer,_React$Component);var _super=_createSuper(BaseContainer);function BaseContainer(props){var _this;(0,_classCallCheck2.default)(this,BaseContainer);_this=_super.call(this,props);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onShowEventListener",null);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onNewIntentEventListener",null);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"navigationTo",function(entry,targetScene,closeCurrentScreen,params){_nativeModules.PortkeyModulesEntity.RouterModule.navigateTo(entry,_entries.LaunchModeSet.get(entry)||_entries.LaunchMode.STANDARD,_this.getEntryName(),targetScene!=null?targetScene:'none',closeCurrentScreen!=null?closeCurrentScreen:false,params);});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"navigateForResult",function(entry,options,callback){var params=options.params,closeCurrentScreen=options.closeCurrentScreen,navigationAnimation=options.navigationAnimation,navigationAnimationDuration=options.navigationAnimationDuration,targetScene=options.targetScene;_nativeModules.PortkeyModulesEntity.RouterModule.navigateToWithOptions(entry,_entries.LaunchModeSet.get(entry)||_entries.LaunchMode.STANDARD,_this.getEntryName(),{params:params!=null?params:{},closeCurrentScreen:closeCurrentScreen!=null?closeCurrentScreen:false,navigationAnimation:navigationAnimation!=null?navigationAnimation:'slide',navigationAnimationDuration:navigationAnimationDuration!=null?navigationAnimationDuration:2000,targetScene:targetScene!=null?targetScene:''},callback);});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onFinish",function(res){_nativeModules.PortkeyModulesEntity.RouterModule.navigateBack(res);});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onError",function(err){_nativeModules.PortkeyModulesEntity.NativeWrapperModule.onError(_this.getEntryName(),err.message,{stack:err.stack});});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onFatal",function(err){_nativeModules.PortkeyModulesEntity.NativeWrapperModule.onFatalError(_this.getEntryName(),err.message,{stack:err.stack});});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onWarn",function(msg){_nativeModules.PortkeyModulesEntity.NativeWrapperModule.onWarning(_this.getEntryName(),msg);});return _this;}(0,_createClass2.default)(BaseContainer,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.onShow();this.onShowEventListener=_nativeModules.PortkeyDeviceEventEmitter.addListener('onShow',function(params){var _ref=params||{},containerId=_ref.containerId;if(containerId===_this2.props.containerId){_this2.onShow();}});this.onNewIntentEventListener=_nativeModules.PortkeyDeviceEventEmitter.addListener('onNewIntent',function(params){_this2.onNewIntent(params);});}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.onShowEventListener!=null){this.onShowEventListener.remove();}if(this.onNewIntentEventListener!=null){this.onNewIntentEventListener.remove();}}},{key:"onShow",value:function onShow(){}},{key:"onNewIntent",value:function onNewIntent(_params){}}]);return BaseContainer;}(_react.default.Component);