var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.ENTRY_PROTOCOL=exports.ENTRY_PATH=exports.ENTRY_KEY=exports.ENTRY_HOST=void 0;exports.checkIsPortKeyUrl=checkIsPortKeyUrl;exports.isEntryScheme=isEntryScheme;exports.parseUrl=parseUrl;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));function checkIsPortKeyUrl(url){var pattern=/^(portkey):\/\/([^\/?#]+)(\/[^?#]*)?(\?[^#]*)?$/;var match=url.match(pattern);return match?match.length>1&&match[1]==='portkey':false;}function parseUrl(url){var pattern=/^([^:]+):\/\/([^\/?#]+)(\/[^?#]*)?(\?[^#]*)?$/;var match=url.match(pattern);if(match){var protocol=match[1];var host=match[2];var path=match[3]||'';var query=match[4]||'';var queryMap=new Map();var queryParams=query.substring(1).split('&');queryParams.forEach(function(param){var _param$split=param.split('='),_param$split2=(0,_slicedToArray2.default)(_param$split,2),key=_param$split2[0],value=_param$split2[1];queryMap.set(key,value);});return{protocol:protocol,host:host,path:path,query:queryMap};}return null;}function isEntryScheme(url){var parsed=parseUrl(url);if(parsed&&parsed.protocol===ENTRY_PROTOCOL&&parsed.host===ENTRY_HOST&&parsed.path===ENTRY_PATH&&parsed.query.has(ENTRY_KEY)){return{entry:parsed.query.get(ENTRY_KEY),query:Array.from(parsed.query).reduce(function(obj,_ref){var _ref2=(0,_slicedToArray2.default)(_ref,2),key=_ref2[0],value=_ref2[1];if(key!==ENTRY_KEY){obj[key]=value;}return obj;},{})};}return false;}var ENTRY_PROTOCOL=exports.ENTRY_PROTOCOL='portkey';var ENTRY_HOST=exports.ENTRY_HOST='www.portkey.com';var ENTRY_PATH=exports.ENTRY_PATH='/rn';var ENTRY_KEY=exports.ENTRY_KEY='entry';